publish {

  description = """Discussion: During LGS, NGS or seeing limited operations,
        the NFIRAOS RTC offloads the persistent low spatial frequency components
        of the DM and TTS commands to the telescope systems.
        These offloads are referred as the offload telescope modes."""

  telemetry = [
    {
      name = "nfiraos.rtc.offloadTipTilt" // XXX where to use full path names?
      description = """The NFIRAOS RTC computes the tip tilt modes (defined in the Noll Zernikes basis)
            based on the TTS commands and rotates them into the telescope ECRS coordinate system [AD2].
            The tip-tilt modes are then offloaded to the telescope mount control system by the TCS.
            The tip/tilt modes are provided in the ECRS coordinate system."""
      rate = 5
      archive = true
      attributes = [
        {
          name = offloadTip
          description = "Tip mode computed by the NFIRAOS RTC to be offloaded to the telescope system."
          type = number
          units = Arcsec on the sky
        }
        {
          name = offloadTilt
          description = "Tilt mode computed by the NFIRAOS RTC to be offloaded to the telescope system."
          type = number
          units = Arcsec on the sky
        }
      ]
    }
    {
      name = "nfiraos.rtc.offloadFocus"
      description = """The NFIRAOS RTC computes the focus mode (defined in the Noll Zernikes basis)
            based on the DM0 commands and projects it into the telescope ECRS coordinate system [AD2].
            The focus mode is then offloaded to the telescope M2 control system by the TCS."""
      rate = 1
      archive = true
      attributes = [
        {
          name = offloadFocus
          description = "Focus mode computed by the NFIRAOS RTC to be offloaded to the telescope system. The focus mode is provided in the ECRS coordinate system."
          type = number
          units = "RMS &mu;s on the sky"
        }
      ]
    }
    {
      name = "nfiraos.rtc.offloadComa"
      description = """The NFIRAOS RTC computes the coma modes (defined in the Noll Zernikes basis)
            based on the DM0 commands and rotates them into the telescope ECRS coordinate system [AD2].
            The coma modes are then offloaded to the telescope M2 control system by the TCS.
            The coma modes are provided in the ECRS coordinate system"""
      rate = 1
      archive = true
      attributes = [
        {
          name = x
          description = "The X coordinate"
          type = number
          units = "RMS &mu;s  on the sky"
        }
        {
          name = y
          description = "The Y coordinate"
          type = number
          units = "RMS &mu;s on the sky"
        }
      ]
    }
    {
      name = "nfiraos.rtc.offloadM1"
      description = """The NFIRAOS RTC computes the M1 modes (defined in the Noll Zernikes basis,
          but excluding piston, tip, tilt and coma modes) based on the DM0 commands and rotates/projects
          them into the telescope ECRS coordinate system [AD2]. The M1 modes are then offloaded to the
          telescope M1 control system by the TCS. In LGS and NGS modes up to approximately 100 M1 modes
          are offloaded. In seeing limited mode, only up to the 5th order radial modes are offloaded."""
      rate = 1
      archive = true
      attributes = [
        {
          name = offloadM1
          description = "M1 modes computed by the NFIRAOS RTC to be offloaded to the telescope system. The M1 modes are provided in the ECRS coordinate system."
          type = number
          units = RMS nanometer of wavefront
        }
      ]
    }
    {
      name = "nfiraos.rtc.offloadCurvature"
      description = """In LGS WFS mode in which all 3 OIWFS are used, the NFIRAOS RTC computes the curvature
          plate scale mode (defined as a combination of telescope M1 curvature and telescope M2 focus)
          based on the DM0 commands and rotates/projects it into the telescope ECRS coordinate system [AD2].
          The curvature plate scale mode is then offloaded to the telescope M1 and M2 control system by the TCS."""
      rate = 1
      archive = true
      attributes = [
        {
          name = offloadCurvature
          description = "Curvature plate scale mode computed by the NFIRAOS RTC to be offloaded to the telescope system. The curvature plate scale mode is provided in the ECRS coordinate system."
          type = number
          units = RMS nanometer of wavefront
        }
      ]
    }

  ]

}
